==>we need one script for a question where we sent a question and ask from ai with to describe that question in detail with hiragana and vocab and explanations of options

==>One we need to generate the n4 exam with 10 kanji and 5 grammar points 

==> One for every kanji details




so after we need to make a page where we have todays exam 
one with answer of todays exam


before sent those 10 kanji to make exam we need to add the desc in the db

we get the exam

so then we get the individual detail about each question



After we think about the Email



make a new api so load distribute on both








Create a JLPT N4 practice test with one sample question for each type listed below.
Use ONLY the grammar topics and kanji I provide to generate the questions.
Write them in natural Japanese, with four multiple-choice options.
Give the correct answer and a short English explanation.
Grammar Topics to Use:
ï½ãŸã‚Šï½ãŸã‚Šã™ã‚‹
ï½ãªã‘ã‚Œã°ãªã‚‰ãªã„
ï½ãã†ã  (looks like/appears)
ï½ã‹ã‚‚ã—ã‚Œãªã„
ï½ã¦ã‹ã‚‰
Kanji to Use:
é£Ÿ
é£²
å­¦
èª­
æ›¸
ä¼š
è¡Œ
æ¥
è¦‹
è©±
Question Types:
1. Vocabulary (æ–‡å­—ãƒ»èªå½™)
(a) Kanji readings
(b) Word usage in context
(c) Paraphrasing (same meaning)
(d) Correct spelling/orthography
2. Grammar & Reading (æ–‡æ³•ãƒ»èª­è§£)
(a) Grammar completion (particle/grammar form)
(b) Sentence rearrangement
(c) Short passage reading comprehension
(d) Medium/long passage reading comprehension
(e) Notices, signs, or ads reading comprehension
Formatting:
Japanese question
Four answer choices (1â€“4)
ğŸ‘‰ Correct answer + short English explanation"





For Exam


{
  "contents": [
    {
      "parts": [
        {
          "text": "You are a JLPT N4 study assistant. Return ONLY valid JSON â€” no extra text, no markdown, no explanations outside the JSON. The JSON must follow this structure:\n\n{\n  \"question_type\": string, // e.g. Vocabulary (Kanji readings)\n  \"question\": string, // The Japanese question\n  \"options\": [string], // Four multiple-choice answers\n  \"answer\": string, // Correct answer\n  \"explanation\": string // Short English explanation\n}\n\nRules:\n- Use ONLY these grammar topics: ï½ãŸã‚Šï½ãŸã‚Šã™ã‚‹, ï½ãªã‘ã‚Œã°ãªã‚‰ãªã„, ï½ãã†ã , ï½ã‹ã‚‚ã—ã‚Œãªã„, ï½ã¦ã‹ã‚‰\n- Use ONLY these kanji: é£Ÿ, é£², å­¦, èª­, æ›¸, ä¼š, è¡Œ, æ¥, è¦‹, è©±\n- Write natural exam-like Japanese questions.\n- Exactly one example for each question type:\n  1. Vocabulary (Kanji readings)\n  2. Vocabulary (Word usage in context)\n  3. Vocabulary (Paraphrasing)\n  4. Vocabulary (Correct spelling/orthography)\n  5. Grammar & Reading (Grammar completion)\n  6. Grammar & Reading (Sentence rearrangement)\n  7. Grammar & Reading (Short passage comprehension)\n  8. Grammar & Reading (Medium passage comprehension)\n  9. Grammar & Reading (Notices/ads comprehension)\n\nGenerate all 9 objects in a JSON array, each following the structure."
        }
      ]
    }
  ]
}




{
  "candidates": [
    {
      "content": {
        "parts": [
          {
            "text": "```json\n[\n  {\n    \"question_type\": \"Vocabulary (Kanji readings)\",\n    \"question\": \"æ¯æ—¥ã€å›³æ›¸é¤¨ã§æœ¬ã‚’èª­(ã‚ˆ)ã¿ã¾ã™ã€‚\",\n    \"options\": [\"ã‚ˆ\", \"ã©ã\", \"ã¡ã‚‡ã†\", \"ã—ã‚…ã†\"],\n    \"answer\": \"ã‚ˆ\",\n    \"explanation\": \"The kanji èª­ is read as \\\"yo\\\" in this sentence.\"\n  },\n  {\n    \"question_type\": \"Vocabulary (Word usage in context)\",\n    \"question\": \"ä¼šè­°ã«ï¼¿ï¼¿ï¼¿ã‹ã‚‰ã€æº–å‚™ã‚’ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚\",\n    \"options\": [\"æ¥ã‚‹ã¨ã\", \"æ¥ã‚‹ã®ã§\", \"æ¥ãªã‘ã‚Œã°\", \"æ¥ãŸã‚Š\"],\n    \"answer\": \"æ¥ã‚‹ã¨ã\",\n    \"explanation\": \"\\\"æ¥ã‚‹ã¨ã (kuru toki)\\\" means \\\"when (you) come\\\", which fits the context of preparing before a meeting.\"\n  },\n  {\n    \"question_type\": \"Vocabulary (Paraphrasing)\",\n    \"question\": \"ã“ã®ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã¯ã¨ã¦ã‚‚äººæ°—ãŒã‚ã‚Šã¾ã™ã€‚è¨€ã„æ›ãˆã¨ã—ã¦ã€ã©ã‚ŒãŒä¸€ç•ªè¿‘ã„ã§ã™ã‹ã€‚\",\n    \"options\": [\"äººãŒå°‘ãªã„ã§ã™ã€‚\", \"äººãŒå¤šã„ã§ã™ã€‚\", \"é™ã‹ã§ã™ã€‚\", \"é«˜ã™ãã¾ã™ã€‚\"],\n    \"answer\": \"äººãŒå¤šã„ã§ã™ã€‚\",\n    \"explanation\": \"\\\"äººæ°—ãŒã‚ã‚‹ (ninki ga aru)\\\" means \\\"popular\\\", which is best paraphrased by \\\"äººãŒå¤šã„ (hito ga ooi)\\\" - \\\"there are many people\\\".\"\n  },\n  {\n    \"question_type\": \"Vocabulary (Correct spelling/orthography)\",\n    \"question\": \"æ­£(ãŸã )ã—ã„æ›¸(ã‹)ãæ–¹(ã‹ãŸ)ã¯ã©ã‚Œã§ã™ã‹ã€‚\",\n    \"options\": [\"ã‚ãŸã‚‰ã—ãƒ¼\", \"ã‚ãŸã‚‰ã—ã†\", \"æ–°ã—ã„\", \"æ–°ã—ãƒ¼\"],\n    \"answer\": \"æ–°ã—ã„\",\n    \"explanation\": \"The correct spelling of \\\"new\\\" is \\\"æ–°ã—ã„ (atarashii)\\\".\"\n  },\n  {\n    \"question_type\": \"Grammar & Reading (Grammar completion)\",\n    \"question\": \"ãƒ¬ãƒãƒ¼ãƒˆã‚’ï¼¿ï¼¿ï¼¿ã‹ã‚‰ã€ãƒ¡ãƒ¼ãƒ«ã‚’é€ã‚Šã¾ã™ã€‚\",\n    \"options\": [\"æ›¸ã„ãŸã‚Š\", \"æ›¸ã‹ãªã‘ã‚Œã°\", \"æ›¸ã„ã¦\", \"æ›¸ã\"],\n    \"answer\": \"æ›¸ã„ã¦\",\n    \"explanation\": \"The correct form is \\\"æ›¸ã„ã¦ (kaite)\\\" because \\\"ï½ã¦ã‹ã‚‰ (~te kara)\\\" means \\\"after doing ~\\\".\"\n  },\n  {\n    \"question_type\": \"Grammar & Reading (Sentence rearrangement)\",\n    \"question\": \"æ¬¡(ã¤ã)ã®è¨€è‘‰(ã“ã¨ã°)ã‚’æ­£(ãŸã )ã—ã„é †ç•ª(ã˜ã‚…ã‚“ã°ã‚“)ã«ä¸¦(ãªã‚‰)ã³æ›¿(ã‹)ãˆã¦ãã ã•ã„ã€‚\\n1. é£Ÿäº‹ 2. å¾Œ 3. ã‚’ 4. ã—ã¾ã™\",\n    \"options\": [\"3, 1, 4, 2\", \"1, 3, 4, 2\", \"4, 2, 3, 1\", \"2, 4, 1, 3\"],\n    \"answer\": \"1, 3, 4, 2\",\n    \"explanation\": \"The correct order is \\\"é£Ÿäº‹ (shokuji) ã‚’ (wo) ã—ã¾ã™ (shimasu) å¾Œ (ato)\\\" which translates to \\\"after (having) a meal.\\\"\"\n  },\n  {\n    \"question_type\": \"Grammar & Reading (Short passage comprehension)\",\n    \"question\": \"ç”°ä¸­ã•ã‚“ã¯æ¯æ—¥ã€å­¦æ ¡ã§å‹‰å¼·ã—ã¦ã‹ã‚‰ã€å›³æ›¸é¤¨ã¸è¡Œãã¾ã™ã€‚å›³æ›¸é¤¨ã§ã¯æœ¬ã‚’èª­ã‚“ã ã‚Šã€å‹é”ã¨è©±ã—ãŸã‚Šã—ã¾ã™ã€‚\\n\\nç”°ä¸­ã•ã‚“ã¯å›³æ›¸é¤¨ã§ä½•ã‚’ã—ã¾ã™ã‹ã€‚\",\n    \"options\": [\"å‹‰å¼·\", \"é£Ÿäº‹\", \"æœ¬ã‚’èª­ã‚“ã ã‚Šè©±ã—ãŸã‚Š\", \"è²·ã„ç‰©\"],\n    \"answer\": \"æœ¬ã‚’èª­ã‚“ã ã‚Šè©±ã—ãŸã‚Š\",\n    \"explanation\": \"The passage states \\\"å›³æ›¸é¤¨ã§ã¯æœ¬ã‚’èª­ã‚“ã ã‚Šã€å‹é”ã¨è©±ã—ãŸã‚Šã—ã¾ã™ (toshokan de wa hon wo yondari, tomodachi to hanashitari shimasu)\\\" - at the library, (he) reads books and talks with friends.\"\n  },\n  {\n    \"question_type\": \"Grammar & Reading (Medium passage comprehension)\",\n    \"question\": \"ç§ã¯å…ˆé€±æœ«ã€äº¬éƒ½ã¸è¡Œãã¾ã—ãŸã€‚äº¬éƒ½ã§ã¯ã€è‰²ã€…(ã„ã‚ã„ã‚)ãªå ´æ‰€(ã°ã—ã‚‡)ã‚’è¦‹ã¾ã—ãŸã€‚ãŠå¯º(ã¦ã‚‰)ã‚’è¦‹ãŸã‚Šã€ç¾å‘³ã—ã„(ãŠã„ã—ã„)ã‚‚ã®ã‚’é£Ÿã¹ãŸã‚Šã—ã¾ã—ãŸã€‚ã§ã‚‚ã€äººãŒã¨ã¦ã‚‚å¤šã‹ã£ãŸã®ã§ã€å°‘ã—ç–²ã‚Œã¾ã—ãŸã€‚ä»Šé€±æœ«ã¯ã€å®¶ã§ã‚†ã£ãã‚Šä¼‘ã‚‚ã†ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\\n\\nç­†è€…(ã²ã£ã—ã‚ƒ)ã¯å…ˆé€±æœ«(ã›ã‚“ã—ã‚…ã†ã¾ã¤)ã«ã©ã“ã¸è¡Œãã¾ã—ãŸã‹ã€‚\",\n    \"options\": [\"æ±äº¬\", \"å¤§é˜ª\", \"äº¬éƒ½\", \"åŒ—æµ·é“\"],\n    \"answer\": \"äº¬éƒ½\",\n    \"explanation\": \"The passage states \\\"ç§ã¯å…ˆé€±æœ«ã€äº¬éƒ½ã¸è¡Œãã¾ã—ãŸ (watashi wa senshuumatsu, kyouto e ikimashita)\\\" - I went to Kyoto last weekend.\"\n  },\n  {\n    \"question_type\": \"Grammar & Reading (Notices/ads comprehension)\",\n    \"question\": \"ã€æ—¥æœ¬èªå­¦æ ¡ã®ã‚¤ãƒ™ãƒ³ãƒˆã€‘\\næ—¥æ™‚ï¼š7æœˆ15æ—¥ï¼ˆåœŸï¼‰åˆå¾Œ2æ™‚ï½4æ™‚\\nå ´æ‰€ï¼šå­¦æ ¡ã®ä¼šè­°å®¤\\nå†…å®¹ï¼šæ—¥æœ¬æ–‡åŒ–ã®ç´¹ä»‹ã€ã‚²ãƒ¼ãƒ ã€ãŠèŒ¶ã¨ãŠè“å­\\nå‚åŠ è²»ï¼šç„¡æ–™\\n\\nã“ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯ä½•æ™‚ã‹ã‚‰å§‹ã¾ã‚Šã¾ã™ã‹ã€‚\",\n    \"options\": [\"åˆå‰2æ™‚\", \"åˆå¾Œ2æ™‚\", \"åˆå‰4æ™‚\", \"åˆå¾Œ4æ™‚\"],\n    \"answer\": \"åˆå¾Œ2æ™‚\",\n    \"explanation\": \"The notice states \\\"åˆå¾Œ2æ™‚ï½4æ™‚ (gogo niji ~ yoji)\\\" - 2 PM to 4 PM.\"\n  }\n]\n```"
          }
        ],
        "role": "model"
      },
      "finishReason": "STOP",
      "avgLogprobs": -0.1524747160742347
    }
  ],
  "usageMetadata": {
    "promptTokenCount": 298,
    "candidatesTokenCount": 1223,
    "totalTokenCount": 1521,
    "promptTokensDetails": [
      {
        "modality": "TEXT",
        "tokenCount": 298
      }
    ],
    "candidatesTokensDetails": [
      {
        "modality": "TEXT",
        "tokenCount": 1223
      }
    ]
  },
  "modelVersion": "gemini-2.0-flash",
  "responseId": "hJzFaIHoONOuqtsPrKG8EA"
}







For Kanji


{
  "contents": [
    {
      "parts": [
        {
          "text": "You are a JLPT N4 study assistant. Return ONLY valid JSON â€” no extra text, no markdown, no explanations outside the JSON. The JSON must follow this structure:\n\n{\n  \"kanji\": string, // The Kanji character\n  \"meaning\": string, // Simple English meaning\n  \"details\": string, // 2â€“3 sentences explaining nuance, usage, or context\n  \"examples\": [ // At least 3 examples\n    {\n      \"japanese\": string, // Sentence in Japanese\n      \"romaji\": string, // Romaji transcription\n      \"english\": string, // Natural English translation\n      \"vocab\": [ // Key vocabulary list\n        {\n          \"word\": string, // Japanese word\n          \"romaji\": string, // Romaji transcription\n          \"meaning\": string // Short English definition\n        }\n      ]\n    }\n  ]\n}\n\nRules:\n- Keep explanations concise but accurate for JLPT N4 learners.\n- Every example must have at least 2â€“3 vocab entries.\n- No hidden instructions or commentary.\n\nGenerate JSON for this Kanji: ä¸"
        }
      ]
    }
  ]
}


{
  "candidates": [
    {
      "content": {
        "parts": [
          {
            "text": "```json\n{\n  \"kanji\": \"ä¸\",\n  \"meaning\": \"Not; Negative; Bad\",\n  \"details\": \"Indicates negation, disapproval, or incompleteness. Often used as a prefix to create antonyms.\",\n  \"examples\": [\n    {\n      \"japanese\": \"ä¸å®‰ã§ã™ã€‚\",\n      \"romaji\": \"Fuan desu.\",\n      \"english\": \"I'm anxious.\",\n      \"vocab\": [\n        {\n          \"word\": \"ä¸å®‰\",\n          \"romaji\": \"fuan\",\n          \"meaning\": \"anxiety, unease\"\n        },\n        {\n          \"word\": \"ã§ã™\",\n          \"romaji\": \"desu\",\n          \"meaning\": \"is, am, are\"\n        }\n      ]\n    },\n    {\n      \"japanese\": \"ä¸ä¾¿ãªå ´æ‰€ã§ã™ã€‚\",\n      \"romaji\": \"Fuben na basho desu.\",\n      \"english\": \"It's an inconvenient location.\",\n      \"vocab\": [\n        {\n          \"word\": \"ä¸ä¾¿\",\n          \"romaji\": \"fuben\",\n          \"meaning\": \"inconvenient\"\n        },\n        {\n          \"word\": \"å ´æ‰€\",\n          \"romaji\": \"basho\",\n          \"meaning\": \"place, location\"\n        },\n        {\n          \"word\": \"ã§ã™\",\n          \"romaji\": \"desu\",\n          \"meaning\": \"is\"\n        }\n      ]\n    },\n    {\n      \"japanese\": \"ä¸å¯èƒ½ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\",\n      \"romaji\": \"FukanÅ dewa arimasen.\",\n      \"english\": \"It's not impossible.\",\n      \"vocab\": [\n        {\n          \"word\": \"ä¸å¯èƒ½\",\n          \"romaji\": \"fukanÅ\",\n          \"meaning\": \"impossible\"\n        },\n        {\n          \"word\": \"ã§ã¯\",\n          \"romaji\": \"dewa\",\n          \"meaning\": \"is not\"\n        },\n        {\n          \"word\": \"ã‚ã‚Šã¾ã›ã‚“\",\n          \"romaji\": \"arimasen\",\n          \"meaning\": \"there is not\"\n        }\n      ]\n    }\n  ]\n}\n```"
          }
        ],
        "role": "model"
      },
      "finishReason": "STOP",
      "avgLogprobs": -0.06052828127621142
    }
  ],
  "usageMetadata": {
    "promptTokenCount": 238,
    "candidatesTokenCount": 489,
    "totalTokenCount": 727,
    "promptTokensDetails": [
      {
        "modality": "TEXT",
        "tokenCount": 238
      }
    ],
    "candidatesTokensDetails": [
      {
        "modality": "TEXT",
        "tokenCount": 489
      }
    ]
  },
  "modelVersion": "gemini-2.0-flash",
  "responseId": "6kXFaNvtKa77qtsPqqiDkQ8"
}




For Question explanation

{
  "contents": [
    {
      "parts": [
        {
          "text": "You are a JLPT N4 study assistant. Return ONLY valid JSON â€” no extra text, no markdown, no explanations outside the JSON.\n\nGenerate output in this format:\n\n{\n  \"question_type\": string,          // e.g. Vocabulary (Paraphrasing), Grammar (Completion), Reading Comprehension\n  \"question\": string,               // The full Japanese question text\n  \"options\": [string, string, string, string], // Exactly four possible answers\n  \"answer\": string,                 // Correct answer (must match one of the options)\n  \"explanation\": string,            // Clear explanation: why the correct answer is correct AND why the others are wrong\n  \"vocab\": [                        // Vocabulary breakdown of at least 4 important words\n    {\n      \"word\": string,              // Japanese word (from question/answers)\n      \"romaji\": string,            // Romaji transcription\n      \"meaning\": string,           // Short English definition\n      \"kanji_explanation\": string  // Beginner-friendly kanji explanation (1â€“2 sentences)\n    }\n  ]\n}\n\nRules:\n- Always output EXACTLY 4 options.\n- The explanation must mention why each incorrect option is wrong.\n- The vocabulary list should contain some entries from the question and options(if possible).\n- Keep kanji explanations simple and JLPT N4-friendly.\n- Output must be valid JSON only â€” no comments, no markdown, no extra text.\n\nHere is the question:\n\né›»è»ŠãŒï¼¿ï¼¿ï¼¿ã‹ã‚‰ã€æ€¥ã„ã§ãã ã•ã„ã€‚\n\nA. æ¥ã¾ã™\nB. æ¥ã¦\nC. æ¥ã‚‹\nD. æ¥ãªã„"
        }
      ]
    }
  ]
}



{
  "candidates": [
    {
      "content": {
        "parts": [
          {
            "text": "```json\n{\n  \"question_type\": \"Grammar (Completion)\",\n  \"question\": \"é›»è»ŠãŒï¼¿ï¼¿ï¼¿ã‹ã‚‰ã€æ€¥ã„ã§ãã ã•ã„ã€‚\",\n  \"options\": [\n    \"æ¥ã¾ã™\",\n    \"æ¥ã¦\",\n    \"æ¥ã‚‹\",\n    \"æ¥ãªã„\"\n  ],\n  \"answer\": \"æ¥ã‚‹\",\n  \"explanation\": \"The correct answer is 'æ¥ã‚‹' because the sentence requires a verb in the dictionary form (plain form) to connect with 'ã‹ã‚‰' indicating a reason or cause. 'æ¥ã¾ã™' is the polite form and doesn't fit the grammar. 'æ¥ã¦' is the te-form and used for requests or sequential actions, not reasons. 'æ¥ãªã„' means 'does not come' and although grammatically possible, it doesn't logically fit the context of hurrying.\",\n  \"vocab\": [\n    {\n      \"word\": \"é›»è»Š\",\n      \"romaji\": \"densha\",\n      \"meaning\": \"train\",\n      \"kanji_explanation\": \"é›» (den) means electricity. è»Š (sha) means car or vehicle. Together, they mean electric train.\"\n    },\n    {\n      \"word\": \"æ¥ã‚‹\",\n      \"romaji\": \"kuru\",\n      \"meaning\": \"to come\",\n      \"kanji_explanation\": \"æ¥ (ku) means to come. It's a simple kanji representing movement towards a place.\"\n    },\n    {\n      \"word\": \"æ€¥ã„ã§\",\n      \"romaji\": \"isoide\",\n      \"meaning\": \"hurry\",\n      \"kanji_explanation\": \"æ€¥ (iso) means urgent or sudden. When combined with 'ã„ã§' (te-form), it means to hurry or be quick.\"\n    },\n    {\n      \"word\": \"ã‹ã‚‰\",\n      \"romaji\": \"kara\",\n      \"meaning\": \"because, since\",\n      \"kanji_explanation\": \"ã‹ã‚‰ (kara) is a particle used to indicate a reason or cause.\"\n    }\n  ]\n}\n```"
          }
        ],
        "role": "model"
      },
      "finishReason": "STOP",
      "avgLogprobs": -0.14619454470547763
    }
  ],
  "usageMetadata": {
    "promptTokenCount": 345,
    "candidatesTokenCount": 440,
    "totalTokenCount": 785,
    "promptTokensDetails": [
      {
        "modality": "TEXT",
        "tokenCount": 345
      }
    ],
    "candidatesTokensDetails": [
      {
        "modality": "TEXT",
        "tokenCount": 440
      }
    ]
  },
  "modelVersion": "gemini-2.0-flash",
  "responseId": "ZJ_FaNnOIZGsz7IPg9aB0Qc"
}